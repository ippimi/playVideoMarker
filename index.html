<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.js"></script>

<script>
AFRAME.registerComponent('vidhandler', {

init: function () {
    this.toggle = false;
    this.vid = document.querySelector("#vid");
    this.vid.pause()

},

tick:function () {
   if (this.el.object3D.visible == true) {
    
    if (!this.toggle){
       this.toggle = true;
       this.vid.play();
    }

  }

  else {
    this.toggle = false;
    this.vid.pause();
  }

   }

});

</script>

 
  <a-scene embedded arjs
  >
    
     <a-assets>

       <video id="vid" loop="true" crossorigin="anonymous"
       src='https://cdn.glitch.com/f8908c29-7a4c-455b-93ca-6172548f04c2%2FBig_Buck_Bunny_Trailer_1080p.ogv.360p.vp9.webm?v=1566582340300'>
      </video>
    </a-assets>
      <a-marker preset="hiro" vidhandler>
       <a-plane position="1 2 0" scale="2 2 2" width="2" rotation="-90 0 0" material='transparent:true; opacity: 0.7; src:#vid'></a-plane>

      </a-marker>

    
       
    <a-entity camera></a-entity>
  </a-scene>
